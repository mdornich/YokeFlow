# YokeFlow Configuration
# ======================
#
# This is an example configuration file showing all available options.
# Copy this file to one of these locations to use it:
#   - .yokeflow.yaml (current directory, project-specific)
#   - ~/.yokeflow.yaml (home directory, global defaults)
#
# You can also specify a custom config file with: --config path/to/config.yaml
#
# All settings are optional - any omitted values will use built-in defaults.
# Command-line arguments always override config file settings.

# Model Configuration
# -------------------
# Specify which Claude models to use for different session types
models:
  # Model for initialization session (creates project structure and task database)
  # Opus is recommended for better planning capabilities
  initializer: claude-opus-4-5-20251101

  # Model for coding sessions (implements features)
  # Sonnet is recommended for faster, more cost-effective implementation
  coding: claude-sonnet-4-5-20250929

# Timing Configuration
# --------------------
# Control delays and intervals
timing:
  # Seconds to wait between autonomous sessions
  auto_continue_delay: 3

  # Seconds for web UI auto-refresh polling interval
  web_ui_poll_interval: 5

  # Port for web UI dashboard (Next.js default)
  web_ui_port: 3000

# Security Configuration
# ----------------------
# Add custom commands to the blocklist
security:
  # List of additional commands to block (beyond built-in blocklist)
  # Examples: custom deployment scripts, dangerous utilities
  additional_blocked_commands:
    # - my-dangerous-script
    # - custom-deploy

# Project Configuration
# ---------------------
# Project and directory settings
project:
  # Default directory for generated projects
  default_generations_dir: generations

  # Default maximum iterations (null = unlimited)
  # Set a number to limit iterations by default
  max_iterations: null

# Sandbox Configuration
# ----------------------
# Isolated execution environments for agent sessions
sandbox:
  # Sandbox type: "none" (no isolation), "docker" (local containers), or "e2b" (cloud)
  # none: Current behavior - runs directly on host (faster but can leak environment variables)
  # docker: Runs in Docker container (good isolation, zero cost, unlimited duration)
  # e2b: Runs in E2B cloud sandbox (production-ready, requires paid tier for long sessions)
  type: none

  # Docker-specific settings (when type: docker)
  docker_image: yokeflow-playwright:latest  # Or node:20-slim for basic setup
  docker_network: bridge
  docker_memory_limit: 3g  # Increased for browser operations if using Playwright
  docker_cpu_limit: "2.0"
  # Port forwarding (optional - not needed if Playwright runs inside container)
  # docker_ports:
  #   - "5173:5173"  # Only if you need manual browser access for debugging

  # E2B-specific settings (when type: e2b)
  # e2b_api_key: ${E2B_API_KEY}  # Or set E2B_API_KEY environment variable
  # e2b_tier: pro  # "free" (1-hour limit) or "pro" (24-hour limit, $150/month)

# ============================================================================
# Usage:
# ============================================================================
#
# This configuration file is automatically detected and loaded by:
# - Web UI (http://localhost:3000) - Primary interface for all operations
# - API Server (http://localhost:8000) - REST API + WebSocket
# - Utility scripts in scripts/ directory
#
# Configuration Priority (highest to lowest):
# 1. Web UI settings (model selection, project-specific config)
# 2. Configuration file (.yokeflow.yaml in project dir or ~/.yokeflow.yaml)
# 3. Environment variables (.env file)
# 4. Built-in defaults
#
# ============================================================================
# Getting Started:
# ============================================================================
#
# 1. Copy this file to .yokeflow.yaml (project) or ~/.yokeflow.yaml (global)
# 2. Start the API server: python api/start_api.py
# 3. Start the Web UI: cd web-ui && npm run dev
# 4. Open http://localhost:3000 to create and manage projects
#
# For utility scripts, see scripts/README.md
# ============================================================================
